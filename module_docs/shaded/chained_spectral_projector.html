

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>shaded.chained_spectral_projector &mdash; shaded 0.1.4 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=4ae1632d" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=fd825880"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../_static/toggleprompt.js?v=d7ede5d2"></script>
      <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="shaded.linalg_utils" href="linalg_utils.html" />
    <link rel="prev" title="shaded.band_projection_matrix" href="band_projection_matrix.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            shaded
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../shaded.html">shaded</a></li>
<li class="toctree-l1"><a class="reference internal" href="band_projection_matrix.html">shaded.band_projection_matrix</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">shaded.chained_spectral_projector</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#shaded.chained_spectral_projector.GeneralProjectionLearner"><code class="docutils literal notranslate"><span class="pre">GeneralProjectionLearner</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#shaded.chained_spectral_projector.GeneralProjectionLearner.fit"><code class="docutils literal notranslate"><span class="pre">GeneralProjectionLearner.fit()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#shaded.chained_spectral_projector.GeneralProjectionLearner.set_fit_request"><code class="docutils literal notranslate"><span class="pre">GeneralProjectionLearner.set_fit_request()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#shaded.chained_spectral_projector.keep_only_indices"><code class="docutils literal notranslate"><span class="pre">keep_only_indices()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#shaded.chained_spectral_projector.learn_chain_proj_matrix"><code class="docutils literal notranslate"><span class="pre">learn_chain_proj_matrix()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#shaded.chained_spectral_projector.learn_spect_proj"><code class="docutils literal notranslate"><span class="pre">learn_spect_proj()</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="linalg_utils.html">shaded.linalg_utils</a></li>
<li class="toctree-l1"><a class="reference internal" href="pair_wise_lda.html">shaded.pair_wise_lda</a></li>
<li class="toctree-l1"><a class="reference internal" href="pseudo_lda.html">shaded.pseudo_lda</a></li>
<li class="toctree-l1"><a class="reference internal" href="pseudo_pca.html">shaded.pseudo_pca</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests/test_chained_spectral_projection.html">shaded.tests.test_chained_spectral_projection</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests/test_linalg_utils.html">shaded.tests.test_linalg_utils</a></li>
<li class="toctree-l1"><a class="reference internal" href="util.html">shaded.util</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">shaded</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">shaded.chained_spectral_projector</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/module_docs/shaded/chained_spectral_projector.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-shaded.chained_spectral_projector">
<span id="shaded-chained-spectral-projector"></span><h1>shaded.chained_spectral_projector<a class="headerlink" href="#module-shaded.chained_spectral_projector" title="Link to this heading"></a></h1>
<p>Chained spectral projectors</p>
<dl class="py class">
<dt class="sig sig-object py" id="shaded.chained_spectral_projector.GeneralProjectionLearner">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">shaded.chained_spectral_projector.</span></span><span class="sig-name descname"><span class="pre">GeneralProjectionLearner</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chain</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">({'args':</span> <span class="pre">{'n_components':</span> <span class="pre">5},</span> <span class="pre">'type':</span> <span class="pre">'pca'},)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_freq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1025</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/shaded/chained_spectral_projector.html#GeneralProjectionLearner"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#shaded.chained_spectral_projector.GeneralProjectionLearner" title="Link to this definition"></a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="shaded.chained_spectral_projector.GeneralProjectionLearner.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ortho</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/shaded/chained_spectral_projector.html#GeneralProjectionLearner.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#shaded.chained_spectral_projector.GeneralProjectionLearner.fit" title="Link to this definition"></a></dt>
<dd><p>Ortho set to True will make it so that the projection into the subspace will be “direction agnostic”, which
makes sense in terms of pure dimension reduction. But for some model, like lda, the length of the vectors onto
which we will project represent the relative importance of those directions. In that case it may make sense to
set ortho to False</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> – array of vectors</p></li>
<li><p><strong>y</strong> – array of tags</p></li>
<li><p><strong>ortho</strong> – boolean, whether or not to orthonormalize the vector onto which to project</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="shaded.chained_spectral_projector.GeneralProjectionLearner.set_fit_request">
<span class="sig-name descname"><span class="pre">set_fit_request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ortho</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'$UNCHANGED$'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#shaded.chained_spectral_projector.GeneralProjectionLearner" title="shaded.chained_spectral_projector.GeneralProjectionLearner"><span class="pre">GeneralProjectionLearner</span></a></span></span><a class="headerlink" href="#shaded.chained_spectral_projector.GeneralProjectionLearner.set_fit_request" title="Link to this definition"></a></dt>
<dd><p>Request metadata passed to the <code class="docutils literal notranslate"><span class="pre">fit</span></code> method.</p>
<p>Note that this method is only relevant if
<code class="docutils literal notranslate"><span class="pre">enable_metadata_routing=True</span></code> (see <code class="xref py py-func docutils literal notranslate"><span class="pre">sklearn.set_config()</span></code>).
Please see <span class="xref std std-ref">User Guide</span> on how the routing
mechanism works.</p>
<p>The options for each parameter are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">True</span></code>: metadata is requested, and passed to <code class="docutils literal notranslate"><span class="pre">fit</span></code> if provided. The request is ignored if metadata is not provided.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">False</span></code>: metadata is not requested and the meta-estimator will not pass it to <code class="docutils literal notranslate"><span class="pre">fit</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>: metadata is not requested, and the meta-estimator will raise an error if the user provides it.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">str</span></code>: metadata should be passed to the meta-estimator with this given alias instead of the original name.</p></li>
</ul>
<p>The default (<code class="docutils literal notranslate"><span class="pre">sklearn.utils.metadata_routing.UNCHANGED</span></code>) retains the
existing request. This allows you to change the request for some
parameters and not others.</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 1.3.</span></p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method is only relevant if this estimator is used as a
sub-estimator of a meta-estimator, e.g. used inside a
<code class="xref py py-class docutils literal notranslate"><span class="pre">Pipeline</span></code>. Otherwise it has no effect.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ortho</strong> (<em>str</em><em>, </em><em>True</em><em>, </em><em>False</em><em>, or </em><em>None</em><em>,                     </em><em>default=sklearn.utils.metadata_routing.UNCHANGED</em>) – Metadata routing for <code class="docutils literal notranslate"><span class="pre">ortho</span></code> parameter in <code class="docutils literal notranslate"><span class="pre">fit</span></code>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>self</strong> – The updated object.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>object</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="shaded.chained_spectral_projector.keep_only_indices">
<span class="sig-prename descclassname"><span class="pre">shaded.chained_spectral_projector.</span></span><span class="sig-name descname"><span class="pre">keep_only_indices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_freq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1025</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/shaded/chained_spectral_projector.html#keep_only_indices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#shaded.chained_spectral_projector.keep_only_indices" title="Link to this definition"></a></dt>
<dd><p>Makes a matrix which when a spectra is multiplied with it, only the entires in the list indices are kept
:param indices: a list of indices to keep
:param n_freq: the total number of frequencies in the spectra
:return: a matrix of size (n_freq, len(indices))</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="shaded.chained_spectral_projector.learn_chain_proj_matrix">
<span class="sig-prename descclassname"><span class="pre">shaded.chained_spectral_projector.</span></span><span class="sig-name descname"><span class="pre">learn_chain_proj_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chain</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">({'args':</span> <span class="pre">{'n_components':</span> <span class="pre">5},</span> <span class="pre">'type':</span> <span class="pre">'pca'},)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_freq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1025</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/shaded/chained_spectral_projector.html#learn_chain_proj_matrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#shaded.chained_spectral_projector.learn_chain_proj_matrix" title="Link to this definition"></a></dt>
<dd><p>A function successively learning a projections matrix on the residue of the previous one. The projections
matrices are then concatenated and return as one single projection matrix. Note that the final projection
matrix may not produce fvs of the size the sum of the components of each part, i.e., care must be taken
to ensure each classes called must be able to produce the required number of components. For example,
if the number of classes is 10, then lda can only produce 9 dimensions. To obtain say 12 dimension, the user
will need to chain two lda’s, for example with size 9 and 3 respectively.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> – the fvs, an array of size n*k</p></li>
<li><p><strong>y</strong> – the classes, an array of size n</p></li>
<li><p><strong>chain</strong> – a tuple of dictionaries each containing the type of projection along with its parameters</p></li>
<li><p><strong>indices</strong> – the indices of the spectra to work with, anything else is discarded</p></li>
<li><p><strong>n_freq</strong> – the total number of entries from the spectra. Only needed if n_freq is not None, in order to
determine the size of the freq_selection_matrix</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a single projection matrix</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="shaded.chained_spectral_projector.learn_spect_proj">
<span class="sig-prename descclassname"><span class="pre">shaded.chained_spectral_projector.</span></span><span class="sig-name descname"><span class="pre">learn_spect_proj</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spectral_proj_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'pca'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clustering_meth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'KMeans'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clustering_options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">('KMeans',</span> <span class="pre">'SpectralClustering',</span> <span class="pre">'AffinityPropagation',</span> <span class="pre">'AgglomerativeClustering',</span> <span class="pre">'Birch',</span> <span class="pre">'MeanShift')</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_feat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_clust</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/shaded/chained_spectral_projector.html#learn_spect_proj"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#shaded.chained_spectral_projector.learn_spect_proj" title="Link to this definition"></a></dt>
<dd><p>Function to learn each of the important spectral projection</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> – the fvs, an array of size n*k</p></li>
<li><p><strong>y</strong> – the classes, an array of size n</p></li>
<li><p><strong>spectral_proj_name</strong> – a string of the name of the featurizer</p></li>
<li><p><strong>args</strong> – extra argument to be passed to the featurizer class</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a matrix in the form of a numpy array</p>
</dd>
</dl>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="band_projection_matrix.html" class="btn btn-neutral float-left" title="shaded.band_projection_matrix" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="linalg_utils.html" class="btn btn-neutral float-right" title="shaded.linalg_utils" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright NO COPYRIGHT.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>